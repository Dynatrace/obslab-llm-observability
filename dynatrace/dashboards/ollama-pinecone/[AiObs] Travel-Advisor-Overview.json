{"version":15,"variables":[{"key":"Model","type":"query","visible":true,"input":"fetch spans\n| summarize models = collectDistinct(gen_ai.request.model)\n| expand models\n| sort models","multiple":false}],"tiles":{"1":{"type":"data","title":"Total","query":"fetch spans\n| filter gen_ai.request.model == $Model\n| summarize count()","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{}},"singleValue":{"showLabel":false,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","recordField":"count()"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[["content"]],"columnWidths":{}},"honeycomb":{"shape":"square","dataMappings":{"value":"count()"},"displayedFields":[null],"legend":{"hidden":false,"position":"auto"},"colorMode":"color-palette","colorPalette":"blue"},"histogram":{"dataMappings":[{"valueAxis":"count()","rangeAxis":""}],"variant":"single","displayedFields":[]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false}},"3":{"type":"markdown","title":"","content":"## $Model Requests"},"4":{"type":"data","title":"Chat","query":"fetch spans\n| filter gen_ai.request.model == $Model\n| filter llm.request.type == \"chat\"\n| summarize count()","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{}},"singleValue":{"showLabel":false,"label":"served from OpenAI","prefixIcon":"","autoscale":true,"alignment":"center","recordField":"count()","trend":{"isVisible":true}},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[["content"]],"columnWidths":{}},"honeycomb":{"shape":"square","dataMappings":{"value":"count()"},"legend":"auto","displayedFields":[null],"colorMode":"color-palette","colorPalette":"blue"},"histogram":{"dataMappings":[{"valueAxis":"count()","rangeAxis":""}],"variant":"single","displayedFields":[]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false}},"5":{"type":"data","title":"Embedding Vectors","query":"fetch spans\n| filter gen_ai.request.model == $Model\n| filter llm.request.type == \"embedding\"\n| summarize count()","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{}},"singleValue":{"showLabel":false,"label":"served from cache","prefixIcon":"","autoscale":true,"alignment":"center","recordField":"count()","colorThresholdTarget":"value","isIconVisible":false,"trend":{"isVisible":true,"isRelative":false},"sparklineSettings":{"isVisible":true,"variant":"line","showTicks":true}},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[["content"]],"columnWidths":{}},"honeycomb":{"shape":"square","dataMappings":{"value":"count()"},"displayedFields":[null],"legend":{"hidden":false,"position":"auto"},"colorMode":"color-palette","colorPalette":"blue"},"histogram":{"dataMappings":[{"valueAxis":"count()","rangeAxis":""}],"variant":"single","displayedFields":[]},"unitsOverrides":[{"identifier":"count()","unitCategory":"amount","baseUnit":"one","displayUnit":null,"decimals":0,"suffix":"","delimiter":false,"added":1724226149362}]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false}},"7":{"type":"markdown","title":"","content":"## $Model Token Costs"},"8":{"type":"data","title":"Prompt Token Count","query":"fetch spans\n| filter gen_ai.response.model == $Model\n| summarize promptTokensCount = sum(gen_ai.usage.input_tokens)","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxisLabel":"log.file.name","valueAxisLabel":"promptTokens"},"hiddenLegendFields":[]},"singleValue":{"showLabel":false,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","recordField":"promptTokensCount","trend":{"isVisible":true,"isRelative":false,"isLabelVisible":false}},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[["content"]],"columnWidths":{},"sortBy":{"columnId":"[\"timestamp\"]","direction":"descending"}},"honeycomb":{"shape":"square","dataMappings":{"value":"promptTokensCount"},"legend":"auto","displayedFields":[null],"colorMode":"color-palette","colorPalette":"blue"},"histogram":{"dataMappings":[{"valueAxis":"promptTokensCount","rangeAxis":""}],"variant":"single","displayedFields":[]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false}},"9":{"type":"data","title":"Output Token Count","query":"fetch spans\n| filter gen_ai.response.model == $Model\n| summarize completionTokensCount = sum(gen_ai.usage.output_tokens)","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxisLabel":"content","valueAxisLabel":"promptTokens"}},"singleValue":{"showLabel":false,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","recordField":"completionTokensCount","trend":{"isVisible":true}},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[["content"]],"columnWidths":{}},"honeycomb":{"shape":"square","dataMappings":{"value":"completionTokensCount"},"displayedFields":[null],"legend":{"hidden":false,"position":"auto"},"colorMode":"color-palette","colorPalette":"blue"},"histogram":{"dataMappings":[{"valueAxis":"completionTokensCount","rangeAxis":""}],"variant":"single","displayedFields":[]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false}},"11":{"type":"data","title":"Costs calc by DQL","query":"fetch spans\n| filter gen_ai.response.model == $Model\n| summarize cost = (sum(gen_ai.usage.input_tokens) / 1000.0 * 0.0010) + (sum(gen_ai.usage.output_tokens) / 1000.0 * 0.0020) + (sum(gen_ai.usage.output_tokens) / 1000 * 0.0001)","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxisLabel":"content","valueAxisLabel":"promptTokens"}},"singleValue":{"showLabel":false,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","recordField":"cost","trend":{"isVisible":true}},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[["content"]],"columnWidths":{}},"honeycomb":{"shape":"square","dataMappings":{"value":"cost"},"displayedFields":[null],"legend":{"hidden":false,"position":"auto"},"colorMode":"color-palette","colorPalette":"blue"},"histogram":{"dataMappings":[{"valueAxis":"cost","rangeAxis":""}],"variant":"single","displayedFields":[]},"unitsOverrides":[{"identifier":"cost","unitCategory":"currency","baseUnit":"usd","displayUnit":null,"decimals":4,"suffix":"","delimiter":false,"added":1702478013644}]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false}},"13":{"type":"data","title":"Vector Retrieval","query":"fetch spans\n| filter gen_ai.request.model == $Model\n| summarize genCount = countIf(llm.request.type == \"completion\"),\n            vecEmbeddingCount = countIf(llm.request.type == \"embedding\"),\n            sumCompletions = sum(gen_ai.usage.completion_tokens),\n            totReq = count()\n| fieldsAdd cacheHit = (toDouble(vecEmbeddingCount) / totReq)*100\n| fieldsKeep cacheHit","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxisLabel":"content","valueAxisLabel":"promptTokens"}},"singleValue":{"showLabel":false,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","recordField":"cacheHit","trend":{"isVisible":true,"isRelative":true},"isIconVisible":false,"sparklineSettings":{"isVisible":false}},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[["content"]],"columnWidths":{}},"honeycomb":{"shape":"square","dataMappings":{"value":"cacheHit"},"displayedFields":[null],"legend":{"hidden":false,"position":"auto"},"colorMode":"color-palette","colorPalette":"blue"},"histogram":{"dataMappings":[{"valueAxis":"cacheHit","rangeAxis":""}],"variant":"single","displayedFields":[]},"unitsOverrides":[{"identifier":"cacheHit","unitCategory":"percentage","baseUnit":"percent","displayUnit":"percent","decimals":2,"suffix":"%","delimiter":true,"added":1702494249230}]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false}},"15":{"type":"data","title":"Response Time Prompt","query":"fetch spans\n// | filter gen_ai.request.model == $Model and llm.request.type == \"completion\"\n// | fieldsAdd prompt = gen_ai.prompt.0.content\n// | makeTimeseries response_time=avg(duration)\n| filter gen_ai.request.model == $Model and llm.request.type != \"\"\n| fieldsKeep duration, gen_ai.request.model, llm.request.type, end_time\n| makeTimeseries avg(duration), time: end_time, by: {llm.request.type}\n| append [\n  fetch spans \n  | filter gen_ai.request.model == $Model and llm.request.type != \"\" \n  | makeTimeseries requests=count()\n]","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"lineChart","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxisLabel":"llm.request.type","valueAxisLabel":"interval","categoryAxis":"llm.request.type","valueAxis":["interval"],"tooltipVariant":"single"},"hiddenLegendFields":["count()"],"leftYAxisSettings":{"label":"Response Time","min":"auto","scale":"linear"},"colorPalette":"fireplace","seriesOverrides":[{"seriesId":["chat","avg(duration)"],"override":{"geometry":"line"}},{"seriesId":["requests"],"override":{"geometry":"line"}},{"seriesId":["embedding","avg(duration)"],"override":{"geometry":"line"}}],"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["avg(duration)","requests"],"leftAxisDimensions":["llm.request.type"]},"truncationMode":"middle","rightYAxisSettings":{"isLabelVisible":false},"curve":"smooth","pointsDisplay":"auto","bandChartSettings":{"lower":"avg(duration)","upper":"requests","time":"timeframe"},"valueRepresentation":"absolute"},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","recordField":"prompt","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"honeycomb":{"shape":"hexagon","dataMappings":{"value":"interval"},"displayedFields":["llm.request.type"],"legend":{"hidden":false,"position":"auto"},"colorMode":"color-palette","colorPalette":"blue"},"histogram":{"dataMappings":[{"valueAxis":"interval","rangeAxis":""}],"variant":"single","displayedFields":["llm.request.type"]},"unitsOverrides":[{"identifier":"avg(duration)","unitCategory":"time","baseUnit":"nanosecond","displayUnit":null,"decimals":2,"suffix":"","delimiter":false,"added":1721809560987}]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false}},"17":{"type":"markdown","title":"","content":"## Search Intelligence"},"26":{"type":"data","title":"Total Token Count","query":"fetch spans\n| filter gen_ai.response.model == $Model\n| summarize completionTokensCount = sum(gen_ai.usage.output_tokens) + sum(gen_ai.usage.input_tokens)","davis":{"enabled":false,"componentState":{"selectedAnalyzerName":"dt.statistics.ui.ForecastAnalyzer","inputData":{"dt.statistics.ui.ForecastAnalyzer":{"generalParameters":{"timeframe":{"startTime":"now-1h","endTime":"now"},"resolveDimensionalQueryData":true,"logVerbosity":"INFO"},"forecastHorizon":100,"forecastOffset":1,"query":"fetch spans\n| filter gen_ai.response.model == \"orca-mini:3b\"\n| summarize completionTokensCount = sum(gen_ai.usage.output_tokens) + sum(gen_ai.usage.input_tokens)"}}},"davisVisualization":{"isAvailable":true}},"visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxisLabel":"content","valueAxisLabel":"promptTokens"}},"singleValue":{"showLabel":false,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","recordField":"completionTokensCount","trend":{"isVisible":true}},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[["content"]],"columnWidths":{}},"honeycomb":{"shape":"square","dataMappings":{"value":"completionTokensCount"},"displayedFields":[null],"legend":{"hidden":false,"position":"auto"},"colorMode":"color-palette","colorPalette":"blue"},"histogram":{"dataMappings":[{"valueAxis":"completionTokensCount","rangeAxis":""}],"variant":"single","displayedFields":[]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false}},"27":{"type":"data","title":"","query":"fetch spans\n| filter gen_ai.request.model == $Model and llm.request.type == \"chat\"\n| fieldsAdd prompt = gen_ai.prompt.0.content\n| fieldsAdd response = gen_ai.completion.0.content\n| fieldsAdd model = gen_ai.request.model\n| fields prompt, response, model","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"table","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"analyzedTimeframe","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxisLabel":"prompt,response,model","valueAxisLabel":"","categoryAxis":["prompt","response","model"],"valueAxis":[],"tooltipVariant":"single"},"hiddenLegendFields":[],"truncationMode":"middle"},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","recordField":"trace.id","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[["trace.id"],["span.id"],["start_time"],["end_time"],["gen_ai.system"],["gen_ai.prompt.0.role"],["span.name"],["gen_ai.completion.0.role"],["gen_ai.response.model"],["llm.request.type"],["span.parent_id"],["span.kind"],["span.status_code"],["gen_ai.request.model"],["llm.usage.total_tokens"],["gen_ai.usage.prompt_tokens"],["service.name"],["gen_ai.usage.completion_tokens"],["dt.entity.span:service"],["llm.is_streaming"],["instrumentation_scope.name"],["instrumentation_scope.version"],["duration"],["dt.retain.size"]],"lineWrapIds":[],"columnWidths":{"[\"prompt\"]":980.96875,"[\"response\"]":375},"sortBy":{"columnId":"[\"model\"]","direction":"descending"},"colorThresholdTarget":"value"},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto"},"colorMode":"color-palette","colorPalette":"categorical","dataMappings":{"value":"prompt"},"displayedFields":["response"]},"histogram":{"dataMappings":[],"variant":"single","displayedFields":["prompt","response","model"]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"29":{"type":"markdown","title":"","content":"![ollama logo](https://github.com/ollama/ollama/assets/3325447/0d0b44e2-8f4a-4e99-9b52-a5c1c741c8f7)"},"30":{"type":"data","title":"Avg Req/min","query":"fetch spans\n// filter by the namespace or set the filter to <local> if running demo locally\n| filter gen_ai.request.model == $Model \n| makeTimeseries t = count()\n| fieldsAdd  avgRequests = arrayAvg(t) \n","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"legend":{"hidden":true},"categoricalBarChartSettings":{},"hiddenLegendFields":[],"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["t"],"leftAxisDimensions":["avgRequests"]},"valueRepresentation":"absolute"},"singleValue":{"showLabel":false,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","recordField":"avgRequests","colorThresholdTarget":"value","sparklineSettings":{"isVisible":false},"trend":{"isRelative":true}},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[["content"]],"columnWidths":{}},"honeycomb":{"shape":"square","dataMappings":{"value":"interval"},"displayedFields":[null],"legend":{"hidden":false,"position":"auto"},"colorMode":"color-palette","colorPalette":"blue"},"histogram":{"dataMappings":[{"valueAxis":"interval","rangeAxis":""},{"valueAxis":"avgRequests","rangeAxis":""}],"variant":"single","displayedFields":[]},"unitsOverrides":[]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false}},"31":{"type":"data","title":"Query Latency","query":"fetch spans\n| filter db.system == \"Pinecone\"\n| makeTimeseries avg(duration), time: end_time\n| append [\n  fetch spans\n  | filter db.system == \"Pinecone\"\n  | makeTimeseries requests=count()\n]","davis":{"enabled":false,"componentState":{"selectedAnalyzerName":"dt.statistics.ui.ForecastAnalyzer","inputData":{"dt.statistics.ui.ForecastAnalyzer":{"generalParameters":{"timeframe":{"startTime":"now-1h","endTime":"now"},"resolveDimensionalQueryData":true,"logVerbosity":"INFO"},"forecastHorizon":100,"forecastOffset":1,"query":"fetch spans\n| filter db.system == \"Pinecone\"\n| makeTimeseries avg(duration), time: end_time\n| append [\n  fetch spans\n  | filter db.system == \"Pinecone\"\n  | makeTimeseries requests=count()\n]"}}},"davisVisualization":{"isAvailable":true}},"visualization":"lineChart","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"auto","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"smooth","pointsDisplay":"auto","categoricalBarChartSettings":{"layout":"vertical","categoryAxisTickLayout":"horizontal","scale":"absolute","groupMode":"stacked","colorPaletteMode":"multi-color","categoryAxisLabel":"span.name","valueAxisLabel":"pinecone.query.top_k,pinecone.usage.write_units,pinecone.usage.read_units,duration,dt.retain.size","tooltipVariant":"single"},"colorPalette":"categorical","truncationMode":"middle","hiddenLegendFields":["span"],"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["avg(duration)","requests"],"leftAxisDimensions":[]},"leftYAxisSettings":{"scale":"linear","min":"auto"},"tooltip":{"variant":"single","seriesDisplayMode":"single-line"},"legend":{"position":"auto","hidden":false},"xAxisIsLabelVisible":true,"bandChartSettings":{"lower":"avg(duration)","upper":"requests","time":"timeframe"},"valueRepresentation":"absolute"},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","recordField":"trace.id","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{},"columnTypeOverrides":[]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto"},"colorMode":"color-palette","colorPalette":"blue","dataMappings":{},"displayedFields":[]},"histogram":{"legend":"auto","yAxis":{"label":"Frequency","scale":"linear"},"colorPalette":"categorical","dataMappings":[{"valueAxis":"interval","rangeAxis":""}],"variant":"single","displayedFields":[]},"recordView":{"fieldsWidth":200.03},"unitsOverrides":[{"identifier":"avg(duration)","unitCategory":"time","baseUnit":"nanosecond","displayUnit":null,"decimals":2,"suffix":"","delimiter":false,"added":1726557632369}]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"32":{"type":"markdown","title":"","content":"![pinecone](https://store-images.s-microsoft.com/image/apps.8737.7e8364c3-6b0d-49b8-88ea-444d7a608941.00b007e4-c5a0-48a8-a7d3-476397354fa8.1e4a882c-2a68-44fc-a963-4fd2fb8ab6a0)"},"33":{"type":"data","title":"Pinecone Operations","query":"fetch spans\n| filter db.system == \"Pinecone\"\n| makeTimeseries RU=avg(pinecone.usage.read_units, default:0), nonempty: true, interval: 1s\n| append [\n  fetch spans\n  | filter db.system == \"Pinecone\"\n  | makeTimeseries WU=avg(pinecone.usage.write_units)\n]","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"lineChart","visualizationSettings":{"thresholds":[],"chartSettings":{"xAxisScaling":"auto","gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"curve":"smooth","pointsDisplay":"always","categoricalBarChartSettings":{"layout":"vertical","categoryAxisTickLayout":"horizontal","scale":"absolute","groupMode":"stacked","colorPaletteMode":"multi-color","categoryAxisLabel":"span.name","valueAxisLabel":"pinecone.query.top_k,pinecone.usage.write_units,pinecone.usage.read_units,duration,dt.retain.size","tooltipVariant":"single"},"colorPalette":"categorical","truncationMode":"middle","hiddenLegendFields":["span"],"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["RU","WU"],"leftAxisDimensions":[]},"leftYAxisSettings":{"scale":"linear","min":"auto","isLabelVisible":false,"max":"auto"},"tooltip":{"variant":"single","seriesDisplayMode":"single-line"},"legend":{"position":"auto","hidden":false},"xAxisIsLabelVisible":true,"seriesOverrides":[],"bandChartSettings":{"lower":"RU","upper":"WU","time":"timeframe"},"valueRepresentation":"absolute"},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","recordField":"trace.id","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"linewrapEnabled":false,"lineWrapIds":[],"monospacedFontEnabled":false,"monospacedFontColumns":[],"columnWidths":{},"columnTypeOverrides":[]},"honeycomb":{"shape":"hexagon","legend":{"hidden":false,"position":"auto"},"colorMode":"color-palette","colorPalette":"blue","dataMappings":{},"displayedFields":[]},"histogram":{"legend":"auto","yAxis":{"label":"Frequency","scale":"linear"},"colorPalette":"categorical","dataMappings":[{"valueAxis":"interval","rangeAxis":""}],"variant":"single","displayedFields":[]},"recordView":{"fieldsWidth":200.03},"unitsOverrides":[]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}}},"layouts":{"1":{"x":5,"y":5,"w":8,"h":4},"3":{"x":5,"y":0,"w":8,"h":1},"4":{"x":5,"y":1,"w":4,"h":4},"5":{"x":9,"y":1,"w":4,"h":4},"7":{"x":13,"y":0,"w":11,"h":1},"8":{"x":13,"y":1,"w":4,"h":4},"9":{"x":17,"y":1,"w":4,"h":4},"11":{"x":19,"y":5,"w":5,"h":4},"13":{"x":0,"y":5,"w":5,"h":4},"15":{"x":0,"y":22,"w":24,"h":5},"17":{"x":0,"y":21,"w":18,"h":1},"26":{"x":13,"y":5,"w":6,"h":4},"27":{"x":0,"y":27,"w":24,"h":15},"29":{"x":0,"y":0,"w":5,"h":5},"30":{"x":21,"y":1,"w":3,"h":4},"31":{"x":5,"y":9,"w":19,"h":6},"32":{"x":0,"y":9,"w":5,"h":6},"33":{"x":0,"y":15,"w":24,"h":6}},"importedWithCode":false}